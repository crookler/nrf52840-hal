<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded from Scratch: stepper.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded from Scratch
   &#160;<span id="projectnumber">Project</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('stepper_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stepper.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Useful structs and prototypes mirroring the stepper library maintained by Arduino (see here: <a href="https://github.com/arduino-libraries/Stepper">https://github.com/arduino-libraries/Stepper</a>)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="arm_8h_source.html">arm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stepper.h:</div>
<div class="dyncontent">
<div class="center"><img src="stepper_8h__incl.png" border="0" usemap="#astepper_8h" alt=""/></div>
<map name="astepper_8h" id="astepper_8h">
<area shape="rect" title="Useful structs and prototypes mirroring the stepper library maintained by Arduino (see here: https://..." alt="" coords="29,5,111,32"/>
<area shape="rect" href="arm_8h.html" title="Macro definitions, typedefs, and aliases for common ARM functionality." alt="" coords="5,155,65,181"/>
<area shape="rect" href="gpio_8h.html" title="Function prototypes, constants, and enums for GPIO MMIO addresses, possible configuration values,..." alt="" coords="73,80,136,107"/>
<area shape="rect" href="error_8h.html" title="Constants for unified error codes across all peripherals. Each error code specifies exactly one uniqu..." alt="" coords="90,155,154,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="stepper_8h__dep__incl.png" border="0" usemap="#astepper_8hdep" alt=""/></div>
<map name="astepper_8hdep" id="astepper_8hdep">
<area shape="rect" title="Useful structs and prototypes mirroring the stepper library maintained by Arduino (see here: https://..." alt="" coords="193,5,275,32"/>
<area shape="rect" href="kernel_8c.html" title="Entry point of the code with a singular main function defined." alt="" coords="5,80,79,107"/>
<area shape="rect" href="peripheral__trap_8c.html" title="Implements syscalls that drive custom peripheral functionality (not standardized)" alt="" coords="103,80,235,107"/>
<area shape="rect" href="stepper_8c.html" title="Implementation of 4&#45;wire stepper motor control using timer peripheral for custom speed and bidirectio..." alt="" coords="259,80,340,107"/>
<area shape="rect" href="timer_8c.html" title="Configures timer peripheral to match desired a desired frequency and perform a custom action within t..." alt="" coords="365,80,431,107"/>
</map>
</div>
</div>
<p><a href="stepper_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstepper__t.html">stepper_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a21836a95fe468d5fee62d98192f2c7a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a21836a95fe468d5fee62d98192f2c7a7">STEPPER_STEPS_PER_REVOLUTION</a>&#160;&#160;&#160;2048</td></tr>
<tr class="memdesc:a21836a95fe468d5fee62d98192f2c7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of steps in one revolution of the stepper motor.  <a href="stepper_8h.html#a21836a95fe468d5fee62d98192f2c7a7">More...</a><br /></td></tr>
<tr class="separator:a21836a95fe468d5fee62d98192f2c7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b719eb8f60c33c376de2fdc4851fe2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a67b719eb8f60c33c376de2fdc4851fe2">STEPPER_CONTROL_PORT_1</a>&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4d51b143f8a2002e214bce6f00d2e449">P1</a></td></tr>
<tr class="memdesc:a67b719eb8f60c33c376de2fdc4851fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port for control wire 1.  <a href="stepper_8h.html#a67b719eb8f60c33c376de2fdc4851fe2">More...</a><br /></td></tr>
<tr class="separator:a67b719eb8f60c33c376de2fdc4851fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4fba09f16c2cfd7fa730928dd5398f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a4e4fba09f16c2cfd7fa730928dd5398f">STEPPER_CONTROL_PIN_1</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a4e4fba09f16c2cfd7fa730928dd5398f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin for control wire 1.  <a href="stepper_8h.html#a4e4fba09f16c2cfd7fa730928dd5398f">More...</a><br /></td></tr>
<tr class="separator:a4e4fba09f16c2cfd7fa730928dd5398f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae660361f82929e951e473cf8105255b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#ae660361f82929e951e473cf8105255b8">STEPPER_CONTROL_PORT_2</a>&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td></tr>
<tr class="memdesc:ae660361f82929e951e473cf8105255b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port for control wire 2.  <a href="stepper_8h.html#ae660361f82929e951e473cf8105255b8">More...</a><br /></td></tr>
<tr class="separator:ae660361f82929e951e473cf8105255b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4710e6e36c3f8538d4d7db1e76df1c71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a4710e6e36c3f8538d4d7db1e76df1c71">STEPPER_CONTROL_PIN_2</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:a4710e6e36c3f8538d4d7db1e76df1c71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin for control wire 2.  <a href="stepper_8h.html#a4710e6e36c3f8538d4d7db1e76df1c71">More...</a><br /></td></tr>
<tr class="separator:a4710e6e36c3f8538d4d7db1e76df1c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2065adc74a832f79f6971289ddfe23c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a2065adc74a832f79f6971289ddfe23c1">STEPPER_CONTROL_PORT_3</a>&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td></tr>
<tr class="memdesc:a2065adc74a832f79f6971289ddfe23c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port for control wire 3.  <a href="stepper_8h.html#a2065adc74a832f79f6971289ddfe23c1">More...</a><br /></td></tr>
<tr class="separator:a2065adc74a832f79f6971289ddfe23c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6254bfde661cbf860a3668f3c99b90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#acf6254bfde661cbf860a3668f3c99b90">STEPPER_CONTROL_PIN_3</a>&#160;&#160;&#160;26</td></tr>
<tr class="memdesc:acf6254bfde661cbf860a3668f3c99b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin for control wire 3.  <a href="stepper_8h.html#acf6254bfde661cbf860a3668f3c99b90">More...</a><br /></td></tr>
<tr class="separator:acf6254bfde661cbf860a3668f3c99b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e81dbcabd4aa8628bc1158a81800534"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a2e81dbcabd4aa8628bc1158a81800534">STEPPER_CONTROL_PORT_4</a>&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td></tr>
<tr class="memdesc:a2e81dbcabd4aa8628bc1158a81800534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port for control wire 4.  <a href="stepper_8h.html#a2e81dbcabd4aa8628bc1158a81800534">More...</a><br /></td></tr>
<tr class="separator:a2e81dbcabd4aa8628bc1158a81800534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf556dffb098df1950ea5ccc8157d1f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#abf556dffb098df1950ea5ccc8157d1f4">STEPPER_CONTROL_PIN_4</a>&#160;&#160;&#160;27</td></tr>
<tr class="memdesc:abf556dffb098df1950ea5ccc8157d1f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin for control wire 4.  <a href="stepper_8h.html#abf556dffb098df1950ea5ccc8157d1f4">More...</a><br /></td></tr>
<tr class="separator:abf556dffb098df1950ea5ccc8157d1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a04be36af941edfd3a52fda2fb0ee2a01"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a04be36af941edfd3a52fda2fb0ee2a01">stepper_direction</a> { <a class="el" href="stepper_8h.html#a04be36af941edfd3a52fda2fb0ee2a01a4dffdb9733ea71ab301d3752c50e6f7c">StepperCW</a>
, <a class="el" href="stepper_8h.html#a04be36af941edfd3a52fda2fb0ee2a01aae1e3b2f523f3f721bad8724f11f23b2">StepperCCW</a>
 }</td></tr>
<tr class="separator:a04be36af941edfd3a52fda2fb0ee2a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88c131f99dc75e8acc35b04a9ab3166e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a88c131f99dc75e8acc35b04a9ab3166e">stepper_init</a> (<a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> steps_per_revolution, <a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a> control_port_1, <a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> control_pin_1, <a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a> control_port_2, <a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> control_pin_2, <a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a> control_port_3, <a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> control_pin_3, <a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a> control_port_4, <a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> control_pin_4)</td></tr>
<tr class="separator:a88c131f99dc75e8acc35b04a9ab3166e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fcc924754fde4e43eed70a392f8ab3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a00fcc924754fde4e43eed70a392f8ab3">stepper_speed</a> (<a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> rpm)</td></tr>
<tr class="separator:a00fcc924754fde4e43eed70a392f8ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6788501db6840499474bc50f3b6fb9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a0c6788501db6840499474bc50f3b6fb9">stepper_move</a> (<a class="el" href="arm_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> steps_to_move)</td></tr>
<tr class="separator:a0c6788501db6840499474bc50f3b6fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8cab4eb8b8482fa8d45c720fa64d9e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#ac8cab4eb8b8482fa8d45c720fa64d9e6">stepper_advance_step</a> ()</td></tr>
<tr class="separator:ac8cab4eb8b8482fa8d45c720fa64d9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a698d065d2a5992c1e76c2f75fdfc12b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstepper__t.html">stepper_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stepper_8h.html#a698d065d2a5992c1e76c2f75fdfc12b3">attached_stepper</a></td></tr>
<tr class="memdesc:a698d065d2a5992c1e76c2f75fdfc12b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stepper motor currently attached to the nrf52840 (assuming only one used at a time)  <a href="stepper_8h.html#a698d065d2a5992c1e76c2f75fdfc12b3">More...</a><br /></td></tr>
<tr class="separator:a698d065d2a5992c1e76c2f75fdfc12b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Useful structs and prototypes mirroring the stepper library maintained by Arduino (see here: <a href="https://github.com/arduino-libraries/Stepper">https://github.com/arduino-libraries/Stepper</a>) </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4e4fba09f16c2cfd7fa730928dd5398f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e4fba09f16c2cfd7fa730928dd5398f">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PIN_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PIN_1&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin for control wire 1. </p>

</div>
</div>
<a id="a4710e6e36c3f8538d4d7db1e76df1c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4710e6e36c3f8538d4d7db1e76df1c71">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PIN_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PIN_2&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin for control wire 2. </p>

</div>
</div>
<a id="acf6254bfde661cbf860a3668f3c99b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6254bfde661cbf860a3668f3c99b90">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PIN_3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PIN_3&#160;&#160;&#160;26</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin for control wire 3. </p>

</div>
</div>
<a id="abf556dffb098df1950ea5ccc8157d1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf556dffb098df1950ea5ccc8157d1f4">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PIN_4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PIN_4&#160;&#160;&#160;27</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin for control wire 4. </p>

</div>
</div>
<a id="a67b719eb8f60c33c376de2fdc4851fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67b719eb8f60c33c376de2fdc4851fe2">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PORT_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PORT_1&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4d51b143f8a2002e214bce6f00d2e449">P1</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port for control wire 1. </p>

</div>
</div>
<a id="ae660361f82929e951e473cf8105255b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae660361f82929e951e473cf8105255b8">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PORT_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PORT_2&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port for control wire 2. </p>

</div>
</div>
<a id="a2065adc74a832f79f6971289ddfe23c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2065adc74a832f79f6971289ddfe23c1">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PORT_3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PORT_3&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port for control wire 3. </p>

</div>
</div>
<a id="a2e81dbcabd4aa8628bc1158a81800534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e81dbcabd4aa8628bc1158a81800534">&#9670;&nbsp;</a></span>STEPPER_CONTROL_PORT_4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_CONTROL_PORT_4&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port for control wire 4. </p>

</div>
</div>
<a id="a21836a95fe468d5fee62d98192f2c7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21836a95fe468d5fee62d98192f2c7a7">&#9670;&nbsp;</a></span>STEPPER_STEPS_PER_REVOLUTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEPPER_STEPS_PER_REVOLUTION&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of steps in one revolution of the stepper motor. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a04be36af941edfd3a52fda2fb0ee2a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04be36af941edfd3a52fda2fb0ee2a01">&#9670;&nbsp;</a></span>stepper_direction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="stepper_8h.html#a04be36af941edfd3a52fda2fb0ee2a01">stepper_direction</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specifies the direction of rotation for the attached stepper motor (stored internally) </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a04be36af941edfd3a52fda2fb0ee2a01a4dffdb9733ea71ab301d3752c50e6f7c"></a>StepperCW&#160;</td><td class="fielddoc"><p>Clockwise rotation when viewed from top (indicated by a positive step count) </p>
</td></tr>
<tr><td class="fieldname"><a id="a04be36af941edfd3a52fda2fb0ee2a01aae1e3b2f523f3f721bad8724f11f23b2"></a>StepperCCW&#160;</td><td class="fielddoc"><p>Counter clockwise rotation when viewed from top (indicated by a negative step count) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac8cab4eb8b8482fa8d45c720fa64d9e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8cab4eb8b8482fa8d45c720fa64d9e6">&#9670;&nbsp;</a></span>stepper_advance_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stepper_advance_step </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Advances the current step of the motor to the next sequence for the 4-wire configuration. Direction is determined by the current direction setting in attached_stepper.</p>
<p>Advance the stepper motor to the next step in the sequence. Direction is determined by <code>direction</code> field in <code>attached_stepper</code>. Apply the control sequence of the current step and then figure out the next step based on the direction of motion. </p>

</div>
</div>
<a id="a88c131f99dc75e8acc35b04a9ab3166e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88c131f99dc75e8acc35b04a9ab3166e">&#9670;&nbsp;</a></span>stepper_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stepper_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>steps_per_revolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a>&#160;</td>
          <td class="paramname"><em>control_port_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>control_pin_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a>&#160;</td>
          <td class="paramname"><em>control_port_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>control_pin_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a>&#160;</td>
          <td class="paramname"><em>control_port_3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>control_pin_3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1">gpio_port</a>&#160;</td>
          <td class="paramname"><em>control_port_4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>control_pin_4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializer for 4-wire control sequence. This is the number of control pins available with the driver board and is also the default of the above referenced library. Creates an instance of <a class="el" href="structstepper__t.html">stepper_t</a> with the chosen parameters and maintains it in the global variable.</p>
<p>Initialize a stepper motor configuration in the global <code>attached_stepper</code>. Start the 4-step control sequence at step zero and forward direction. Initialize associated gpio pins for control wires (IN1-IN4). </p>

</div>
</div>
<a id="a0c6788501db6840499474bc50f3b6fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c6788501db6840499474bc50f3b6fb9">&#9670;&nbsp;</a></span>stepper_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stepper_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td>
          <td class="paramname"><em>steps_to_move</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the motor through the specified number of steps in the specified direction. The apparent rotation of the motor is determined as the ratio between the number of steps per revolution and steps_to_move. This call is blocking - waits until all steps are completed. A CW rotation is applied if steps_to_move is positive and a CCW rotation is applied if steps_to_move is negative</p>
<p>Move the stepper motor through a number of steps according to <code>step_to_move</code>. Initializes a timer peripheral to begin firing interrupts at a rate equal to the <code>step_delay_us</code> of the attached stepper. Interrupts are fired repeatedly until steps_to_move have been counted, after which the timer peripheral is de-activated. This call is blocking so that user threads can accurately profile the time needed to turn the motor (i.e. do not have to dynamically change the task period based on how often the motor needs to be turned - can eliminate yielding by just treating the interrupt handler as work) Both CW and CCW directions are supported (sign of steps_to_move indicates direction with positive indicating CW and negative indicating CCW). </p>

</div>
</div>
<a id="a00fcc924754fde4e43eed70a392f8ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00fcc924754fde4e43eed70a392f8ab3">&#9670;&nbsp;</a></span>stepper_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stepper_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>rpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the speed of rotation for the motor in revolutions per minute. Used to determine delay until applying next control sequence.</p>
<p>Set the stepper motor speed to the requested revolutions per minute. Stepping delay is managed by TIMER0, so determine the necessary frequency of interrupts for TIMER0 to have. TIMER0 handler. is responsible for actually calling the advance motor functions during its interrupt. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a698d065d2a5992c1e76c2f75fdfc12b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698d065d2a5992c1e76c2f75fdfc12b3">&#9670;&nbsp;</a></span>attached_stepper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstepper__t.html">stepper_t</a> attached_stepper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stepper motor currently attached to the nrf52840 (assuming only one used at a time) </p>
<p>Stepper motor currently attached to the nrf52840 (assuming only one used at a time) </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_009f605b833ac4622acd6c3c0c26c0f0.html">include</a></li><li class="navelem"><a class="el" href="stepper_8h.html">stepper.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
