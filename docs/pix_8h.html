<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded from Scratch: pix.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded from Scratch
   &#160;<span id="projectnumber">Project</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pix_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pix.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Neopixel specific configuration values to use with PWM (following timings / protocol for this chip <a href="https://www.digikey.com/htmldatasheets/production/1876263/0/0/1/sk6812-datasheet.html?gad_source=1&gad_campaignid=120565755&gbraid=0AAAAADrbLlhSB6PwtzGYZOxIahRlOitZr&gclid=Cj0KCQiAosrJBhD0ARIsAHebCNrL5hliexnJs8HBbyLdp7V7NrYbmRgTa0UHymB8GQOTiCCL8xL1N9oaAlTjEALw_wcB&gclsrc=aw.ds">https://www.digikey.com/htmldatasheets/production/1876263/0/0/1/sk6812-datasheet.html?gad_source=1&amp;gad_campaignid=120565755&amp;gbraid=0AAAAADrbLlhSB6PwtzGYZOxIahRlOitZr&amp;gclid=Cj0KCQiAosrJBhD0ARIsAHebCNrL5hliexnJs8HBbyLdp7V7NrYbmRgTa0UHymB8GQOTiCCL8xL1N9oaAlTjEALw_wcB&amp;gclsrc=aw.ds</a>).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="arm_8h_source.html">arm.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pix.h:</div>
<div class="dyncontent">
<div class="center"><img src="pix_8h__incl.png" border="0" usemap="#apix_8h" alt=""/></div>
<map name="apix_8h" id="apix_8h">
<area shape="rect" title="Neopixel specific configuration values to use with PWM (following timings / protocol for this chip ht..." alt="" coords="8,5,63,32"/>
<area shape="rect" href="arm_8h.html" title="Macro definitions, typedefs, and aliases for common ARM functionality." alt="" coords="5,80,65,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="pix_8h__dep__incl.png" border="0" usemap="#apix_8hdep" alt=""/></div>
<map name="apix_8hdep" id="apix_8hdep">
<area shape="rect" title="Neopixel specific configuration values to use with PWM (following timings / protocol for this chip ht..." alt="" coords="158,5,213,32"/>
<area shape="rect" href="adc_8c.html" title="Implementation of ADC configuration and sampling." alt="" coords="5,80,61,107"/>
<area shape="rect" href="kernel_8c.html" title="Entry point of the code with a singular main function defined." alt="" coords="86,80,159,107"/>
<area shape="rect" href="peripheral__trap_8c.html" title="Implements syscalls that drive custom peripheral functionality (not standardized)" alt="" coords="183,80,315,107"/>
<area shape="rect" href="pix_8c.html" title="Implementation of pix specific details for use in PWM." alt="" coords="340,80,393,107"/>
</map>
</div>
</div>
<p><a href="pix_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a57b04aff152a104cf94cd6eee544f3bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a57b04aff152a104cf94cd6eee544f3bb">PIX_PORT</a>&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td></tr>
<tr class="memdesc:a57b04aff152a104cf94cd6eee544f3bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port tied to the Neopixel in hardware (must be an instance of gpio_port)  <a href="pix_8h.html#a57b04aff152a104cf94cd6eee544f3bb">More...</a><br /></td></tr>
<tr class="separator:a57b04aff152a104cf94cd6eee544f3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a2085692d366bd028f0cfe09b68cc0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a71a2085692d366bd028f0cfe09b68cc0">PIX_PIN</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:a71a2085692d366bd028f0cfe09b68cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin tied to the Neopixel in hardware (must be an instance of uint8_t)  <a href="pix_8h.html#a71a2085692d366bd028f0cfe09b68cc0">More...</a><br /></td></tr>
<tr class="separator:a71a2085692d366bd028f0cfe09b68cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2960c1b6b983e3fdbc48886ec5e1f637"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a2960c1b6b983e3fdbc48886ec5e1f637">PIX_NUM</a>&#160;&#160;&#160;24</td></tr>
<tr class="memdesc:a2960c1b6b983e3fdbc48886ec5e1f637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of neopixel lights chained together at the pin/port specified above (pix protocol will automatically pass the next values on to the next light until reset signal is hit)  <a href="pix_8h.html#a2960c1b6b983e3fdbc48886ec5e1f637">More...</a><br /></td></tr>
<tr class="separator:a2960c1b6b983e3fdbc48886ec5e1f637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d166ed9badba3508a836faafed94a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a54d166ed9badba3508a836faafed94a9">PIX_ENCODE_LENGTH</a>&#160;&#160;&#160;(24 * <a class="el" href="pix_8h.html#a2960c1b6b983e3fdbc48886ec5e1f637">PIX_NUM</a>)</td></tr>
<tr class="memdesc:a54d166ed9badba3508a836faafed94a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of duty cycles passed to the PWM peripheral for a color configuration (8 each for red, green, and blue for each of the specified pins)  <a href="pix_8h.html#a54d166ed9badba3508a836faafed94a9">More...</a><br /></td></tr>
<tr class="separator:a54d166ed9badba3508a836faafed94a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063ef89c6c9c759b72f2a52d7096a8ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a063ef89c6c9c759b72f2a52d7096a8ea">PIX_COUNTERTOP</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a063ef89c6c9c759b72f2a52d7096a8ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of cycles to count to for a pix period assuming a default configuration of 16 Mhz (1.25 uS)  <a href="pix_8h.html#a063ef89c6c9c759b72f2a52d7096a8ea">More...</a><br /></td></tr>
<tr class="separator:a063ef89c6c9c759b72f2a52d7096a8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be29a3889f7a250ed6e8bd0411180e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a6be29a3889f7a250ed6e8bd0411180e5">PIX_HIGH_ENCODING</a>&#160;&#160;&#160;(1 &lt;&lt; 15) | 14</td></tr>
<tr class="separator:a6be29a3889f7a250ed6e8bd0411180e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca8cabe3b2ace76a18074af2fdaf4f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a9ca8cabe3b2ace76a18074af2fdaf4f2">PIX_LOW_ENCODING</a>&#160;&#160;&#160;(1 &lt;&lt; 15) | 5</td></tr>
<tr class="separator:a9ca8cabe3b2ace76a18074af2fdaf4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce774d1774da847124bc4fc9badff64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#a6ce774d1774da847124bc4fc9badff64">PIX_RESET_DELAY</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a6ce774d1774da847124bc4fc9badff64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaed113c38112dfb68284dbfa275487d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#aaed113c38112dfb68284dbfa275487d6">pix_init</a> ()</td></tr>
<tr class="separator:aaed113c38112dfb68284dbfa275487d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b0bd023af232c94cda971247c8dc7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#ab7b0bd023af232c94cda971247c8dc7c">pix_color_set</a> (<a class="el" href="arm_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> r, <a class="el" href="arm_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> g, <a class="el" href="arm_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> b, <a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pix_index)</td></tr>
<tr class="separator:ab7b0bd023af232c94cda971247c8dc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6bf1cf1dd9acf73b3e369ac8320aa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pix_8h.html#add6bf1cf1dd9acf73b3e369ac8320aa3">pix_load_sequence</a> ()</td></tr>
<tr class="separator:add6bf1cf1dd9acf73b3e369ac8320aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Neopixel specific configuration values to use with PWM (following timings / protocol for this chip <a href="https://www.digikey.com/htmldatasheets/production/1876263/0/0/1/sk6812-datasheet.html?gad_source=1&gad_campaignid=120565755&gbraid=0AAAAADrbLlhSB6PwtzGYZOxIahRlOitZr&gclid=Cj0KCQiAosrJBhD0ARIsAHebCNrL5hliexnJs8HBbyLdp7V7NrYbmRgTa0UHymB8GQOTiCCL8xL1N9oaAlTjEALw_wcB&gclsrc=aw.ds">https://www.digikey.com/htmldatasheets/production/1876263/0/0/1/sk6812-datasheet.html?gad_source=1&amp;gad_campaignid=120565755&amp;gbraid=0AAAAADrbLlhSB6PwtzGYZOxIahRlOitZr&amp;gclid=Cj0KCQiAosrJBhD0ARIsAHebCNrL5hliexnJs8HBbyLdp7V7NrYbmRgTa0UHymB8GQOTiCCL8xL1N9oaAlTjEALw_wcB&amp;gclsrc=aw.ds</a>). </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a063ef89c6c9c759b72f2a52d7096a8ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063ef89c6c9c759b72f2a52d7096a8ea">&#9670;&nbsp;</a></span>PIX_COUNTERTOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_COUNTERTOP&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of cycles to count to for a pix period assuming a default configuration of 16 Mhz (1.25 uS) </p>

</div>
</div>
<a id="a54d166ed9badba3508a836faafed94a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d166ed9badba3508a836faafed94a9">&#9670;&nbsp;</a></span>PIX_ENCODE_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_ENCODE_LENGTH&#160;&#160;&#160;(24 * <a class="el" href="pix_8h.html#a2960c1b6b983e3fdbc48886ec5e1f637">PIX_NUM</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of duty cycles passed to the PWM peripheral for a color configuration (8 each for red, green, and blue for each of the specified pins) </p>

</div>
</div>
<a id="a6be29a3889f7a250ed6e8bd0411180e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6be29a3889f7a250ed6e8bd0411180e5">&#9670;&nbsp;</a></span>PIX_HIGH_ENCODING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_HIGH_ENCODING&#160;&#160;&#160;(1 &lt;&lt; 15) | 14</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare value for the duty cycle of a logic high bit for the Neopixel. Duty cycle values are loaded as 16-bit halfwords with 1 bit for the polarity and a 15-bit compare value. A 1 MSB configures this duty cycle as falling edge (i.e. start high), and a compare value of 14 holds the clock initially high for 0.875us (within the acceptable range for 1 encoding assuming clock speed of 16 MHz) </p>

</div>
</div>
<a id="a9ca8cabe3b2ace76a18074af2fdaf4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca8cabe3b2ace76a18074af2fdaf4f2">&#9670;&nbsp;</a></span>PIX_LOW_ENCODING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_LOW_ENCODING&#160;&#160;&#160;(1 &lt;&lt; 15) | 5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare value for the duty cycle of a logic low bit for the Neopixel. A 1 MSB configures this duty cycle as falling edge (i.e. start high), and a compare value of 5 holds the clock initially high for 0.3125us (within the acceptable range for 0 encoding assuming clock speed of 16 MHz) </p>

</div>
</div>
<a id="a2960c1b6b983e3fdbc48886ec5e1f637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2960c1b6b983e3fdbc48886ec5e1f637">&#9670;&nbsp;</a></span>PIX_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_NUM&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of neopixel lights chained together at the pin/port specified above (pix protocol will automatically pass the next values on to the next light until reset signal is hit) </p>

</div>
</div>
<a id="a71a2085692d366bd028f0cfe09b68cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a2085692d366bd028f0cfe09b68cc0">&#9670;&nbsp;</a></span>PIX_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_PIN&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin tied to the Neopixel in hardware (must be an instance of uint8_t) </p>

</div>
</div>
<a id="a57b04aff152a104cf94cd6eee544f3bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b04aff152a104cf94cd6eee544f3bb">&#9670;&nbsp;</a></span>PIX_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_PORT&#160;&#160;&#160;<a class="el" href="gpio_8h.html#a6d50d8c4b17ff573c07340d4d7965bc1a4ee5113cad8e9bf16ad31410f5dab63b">P0</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port tied to the Neopixel in hardware (must be an instance of gpio_port) </p>

</div>
</div>
<a id="a6ce774d1774da847124bc4fc9badff64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce774d1774da847124bc4fc9badff64">&#9670;&nbsp;</a></span>PIX_RESET_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIX_RESET_DELAY&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare value for the RESET value after the RGB values have been sent to the Neopixel. This value is the number of PWM periods (not raw timer cycles) to wait after the completion of a traditional sequence (to match the 80us low reset value). This will output a 64*(20*1/(16 Mhz)) = 80us delay after the end of the 24-bit normal sequence. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab7b0bd023af232c94cda971247c8dc7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7b0bd023af232c94cda971247c8dc7c">&#9670;&nbsp;</a></span>pix_color_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pix_color_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arm_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arm_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>pix_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>0 bit is encoded as T0H = 0.3us and T0L = 0.9us. 1 bit is encoded as T1H = 0.6us and T1L = 0.6us. Reset code is a sequence of low voltages for more than 80us after all 24-bit sequences have been sent to all Neopixels in series (hold low after every single 24 bit sequence if just driving one Neopixel). Period will be equal to TH + TL = 1.25us (from datasheet) so configure PWM to have this period and an end delay equal to reset value (since sequence will always end low when using falling edge). <code>pin_index</code> indicates which pin in the sequence 0:PIX_NUM-1 (starting with 0) should be assigned with these values (when driving one light always specify pix_index as 0).</p>
<p>Determines which pix in the chained neopixels should have its values changed (only touching the neopixel sitting at the 24-bit grouping at <code>pix_index</code>). Places duty cycle constants to encode logical high/low in the static <code>pix_duty_cycles</code> array (overwritten at pix_index location for each call to this function). Does not affect the duty cycles for pins other than the specified <code>pix_index</code>. </p>

</div>
</div>
<a id="aaed113c38112dfb68284dbfa275487d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed113c38112dfb68284dbfa275487d6">&#9670;&nbsp;</a></span>pix_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pix_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls the appropriate configuration functions for PWM based on the constants for the Neopixel hardware setup.</p>
<p>Call configuration values for the PWM peripheral and place PIX constants into the correct locations. Enable the peripheral after configuring channel, sequence, and global values. </p>

</div>
</div>
<a id="add6bf1cf1dd9acf73b3e369ac8320aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6bf1cf1dd9acf73b3e369ac8320aa3">&#9670;&nbsp;</a></span>pix_load_sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pix_load_sequence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display the current values for each of the attached neopixels. Will display the held colors for all neopixels (even those not overwritten), so this should only be called after calls to pix_color_set have clarified the wanted colors for all neopixels</p>
<p>Loads the specified sequence with the current values of pix_duty_cycles. Any calls to pix_color_set keep the pointer in the PTR register and the length in the CNT register constant for the specified sequence. Send sequence as 8-bit green, 8-bit red, then 8-bit blue with high bits sent first for each of the <code>PIX_NUM</code> neopixels. This function should only be called after the sequence has been correctly tailored using pix_color_set (incomplete writes of sequence close together may result in undefined behavior). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_009f605b833ac4622acd6c3c0c26c0f0.html">include</a></li><li class="navelem"><a class="el" href="pix_8h.html">pix.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
