<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded from Scratch: usyscall.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded from Scratch
   &#160;<span id="projectnumber">Project</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('usyscall_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">usyscall.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="usyscall_8h__dep__incl.png" border="0" usemap="#ausyscall_8hdep" alt=""/></div>
<map name="ausyscall_8hdep" id="ausyscall_8hdep">
<area shape="rect" title=" " alt="" coords="45,5,131,32"/>
<area shape="rect" href="radar_2src_2main_8c.html" title="main program for &quot;model radar&quot; user application." alt="" coords="5,80,72,107"/>
<area shape="rect" href="userutil_8c.html" title="Implementations for generally helpful user&#45;space utility." alt="" coords="96,80,179,107"/>
</map>
</div>
</div>
<p><a href="usyscall_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9981a4d7a6ee4804657e50e0741eb78b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a9981a4d7a6ee4804657e50e0741eb78b">mpu_mode</a> { <a class="el" href="mpu_8h.html#a9981a4d7a6ee4804657e50e0741eb78ba546e525ee59cc92943a6c79ef2345a34">KERNEL_PROTECT</a>
, <a class="el" href="mpu_8h.html#a9981a4d7a6ee4804657e50e0741eb78ba63a41127747cd4e547df9017f417f22c">THREAD_PROTECT</a>
, <a class="el" href="usyscall_8h.html#a9981a4d7a6ee4804657e50e0741eb78ba546e525ee59cc92943a6c79ef2345a34">KERNEL_PROTECT</a>
, <a class="el" href="usyscall_8h.html#a9981a4d7a6ee4804657e50e0741eb78ba63a41127747cd4e547df9017f417f22c">THREAD_PROTECT</a>
 }</td></tr>
<tr class="separator:a9981a4d7a6ee4804657e50e0741eb78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad9c8de4d239b88cc80ab8e276600e068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#ad9c8de4d239b88cc80ab8e276600e068">sleep_ms</a> (unsigned int ms)</td></tr>
<tr class="memdesc:ad9c8de4d239b88cc80ab8e276600e068"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for sleep_ms syscall (this function is implemented in assembly and invoking this function will automatically place needed arguements in correct registers for SVC_C_Handler)  <a href="usyscall_8h.html#ad9c8de4d239b88cc80ab8e276600e068">More...</a><br /></td></tr>
<tr class="separator:ad9c8de4d239b88cc80ab8e276600e068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8316b737cdc74c12eb84dc63b2143b1"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#ac8316b737cdc74c12eb84dc63b2143b1">lux_read</a> ()</td></tr>
<tr class="memdesc:ac8316b737cdc74c12eb84dc63b2143b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for lux_read syscall (will call assembly svc implementation upon linking - return value will be in r0 from SVC_C_Handler)  <a href="usyscall_8h.html#ac8316b737cdc74c12eb84dc63b2143b1">More...</a><br /></td></tr>
<tr class="separator:ac8316b737cdc74c12eb84dc63b2143b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580535bf47f091a54b8f3e55f53161ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a580535bf47f091a54b8f3e55f53161ae">neopixel_set</a> (unsigned char red, unsigned char green, unsigned char blue, unsigned int pix_index)</td></tr>
<tr class="memdesc:a580535bf47f091a54b8f3e55f53161ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for neopixel_set (will call assembly svc implementation upon linking which populates correct registers)  <a href="usyscall_8h.html#a580535bf47f091a54b8f3e55f53161ae">More...</a><br /></td></tr>
<tr class="separator:a580535bf47f091a54b8f3e55f53161ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4424963baca002e550ed593d88b3fba4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a4424963baca002e550ed593d88b3fba4">neopixel_load</a> ()</td></tr>
<tr class="memdesc:a4424963baca002e550ed593d88b3fba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for neopixel_load (loading the internal sequence created with neopixel_set for individual LEDs)  <a href="usyscall_8h.html#a4424963baca002e550ed593d88b3fba4">More...</a><br /></td></tr>
<tr class="separator:a4424963baca002e550ed593d88b3fba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5d34d9d6b5fdc9591f4b140fe7f820"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a8e5d34d9d6b5fdc9591f4b140fe7f820">multitask_request</a> (unsigned int num_threads, unsigned int stack_bytes, void *idle_function, <a class="el" href="mpu_8h.html#a9981a4d7a6ee4804657e50e0741eb78b">mpu_mode</a> mpu_protect, unsigned int num_locks)</td></tr>
<tr class="separator:a8e5d34d9d6b5fdc9591f4b140fe7f820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a63db12bcdab110780d40c12b5511bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a1a63db12bcdab110780d40c12b5511bf">thread_define</a> (unsigned int id, void *fn, void *arg, unsigned int c, unsigned int t)</td></tr>
<tr class="memdesc:a1a63db12bcdab110780d40c12b5511bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for spawning a thread that asynchronously executes the given <code>fn</code> with an optional <code>arg</code> and a given <code>id</code> (id must be unique for thread to spawn). Also configures the task with worst case execution time <code>c</code> and period <code>t</code>  <a href="usyscall_8h.html#a1a63db12bcdab110780d40c12b5511bf">More...</a><br /></td></tr>
<tr class="separator:a1a63db12bcdab110780d40c12b5511bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49bef04183bf6b8690a0535cc9a6a62d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a49bef04183bf6b8690a0535cc9a6a62d">multitask_start</a> (unsigned int freq)</td></tr>
<tr class="memdesc:a49bef04183bf6b8690a0535cc9a6a62d"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for specifying the frequency of the scheduling call (with a call with zero being interpretted as a non-preemptive scheduler - i.e. the scheduler will not run unless a task explicitly yields)  <a href="usyscall_8h.html#a49bef04183bf6b8690a0535cc9a6a62d">More...</a><br /></td></tr>
<tr class="separator:a49bef04183bf6b8690a0535cc9a6a62d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff397bfdb8d683d2cb264dd8f61ff8d"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#adff397bfdb8d683d2cb264dd8f61ff8d">thread_id</a> ()</td></tr>
<tr class="memdesc:adff397bfdb8d683d2cb264dd8f61ff8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for returning the thread id of the currently running thread.  <a href="usyscall_8h.html#adff397bfdb8d683d2cb264dd8f61ff8d">More...</a><br /></td></tr>
<tr class="separator:adff397bfdb8d683d2cb264dd8f61ff8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8509e036500f28148d973ac73dd9d5d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a8509e036500f28148d973ac73dd9d5d8">thread_yield</a> ()</td></tr>
<tr class="memdesc:a8509e036500f28148d973ac73dd9d5d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for manually yielding the running thread and returning control to the scheduler.  <a href="usyscall_8h.html#a8509e036500f28148d973ac73dd9d5d8">More...</a><br /></td></tr>
<tr class="separator:a8509e036500f28148d973ac73dd9d5d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838007cda3d9a850381803edca1a15b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a838007cda3d9a850381803edca1a15b0">thread_end</a> ()</td></tr>
<tr class="memdesc:a838007cda3d9a850381803edca1a15b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for suspending the currently running thread (does not make end syscall with infinite loop trap)  <a href="usyscall_8h.html#a838007cda3d9a850381803edca1a15b0">More...</a><br /></td></tr>
<tr class="separator:a838007cda3d9a850381803edca1a15b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa10b42dd77396361aa660b697d2955"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a9fa10b42dd77396361aa660b697d2955">get_time</a> ()</td></tr>
<tr class="memdesc:a9fa10b42dd77396361aa660b697d2955"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for getting the up-time of the system (number of scheduling periods that have passed)  <a href="usyscall_8h.html#a9fa10b42dd77396361aa660b697d2955">More...</a><br /></td></tr>
<tr class="separator:a9fa10b42dd77396361aa660b697d2955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c647c9408eb6f307ec0c8a02a755ac"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#ac1c647c9408eb6f307ec0c8a02a755ac">thread_time</a> ()</td></tr>
<tr class="memdesc:ac1c647c9408eb6f307ec0c8a02a755ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for returning the number of scheduling cycles that this thread has been active for.  <a href="usyscall_8h.html#ac1c647c9408eb6f307ec0c8a02a755ac">More...</a><br /></td></tr>
<tr class="separator:ac1c647c9408eb6f307ec0c8a02a755ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87c735cf9cb87726444e8bcc645ec16"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#af87c735cf9cb87726444e8bcc645ec16">thread_priority</a> ()</td></tr>
<tr class="memdesc:af87c735cf9cb87726444e8bcc645ec16"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for returning the priority of the the current thread.  <a href="usyscall_8h.html#af87c735cf9cb87726444e8bcc645ec16">More...</a><br /></td></tr>
<tr class="separator:af87c735cf9cb87726444e8bcc645ec16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad164bfb573acd90a3227cbf7ad9f1135"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlock__t.html">lock_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#ad164bfb573acd90a3227cbf7ad9f1135">lock_init</a> (unsigned int prio)</td></tr>
<tr class="memdesc:ad164bfb573acd90a3227cbf7ad9f1135"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for initializing a lock (kernel must already have defined empty structs for mutexes by the time this function is called from user space) which also has a space for specifiying the <code>prio</code> or the task ID with the associated priority ceiling.  <a href="usyscall_8h.html#ad164bfb573acd90a3227cbf7ad9f1135">More...</a><br /></td></tr>
<tr class="separator:ad164bfb573acd90a3227cbf7ad9f1135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e403e9a8b9f52514e55a1c67058b5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a16e403e9a8b9f52514e55a1c67058b5e">lock</a> (<a class="el" href="structlock__t.html">lock_t</a> *m)</td></tr>
<tr class="memdesc:a16e403e9a8b9f52514e55a1c67058b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for locking a lock with the opaque address <code>m</code>  <a href="usyscall_8h.html#a16e403e9a8b9f52514e55a1c67058b5e">More...</a><br /></td></tr>
<tr class="separator:a16e403e9a8b9f52514e55a1c67058b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cfb7eae05f1549306722a634afa291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a71cfb7eae05f1549306722a634afa291">unlock</a> (<a class="el" href="structlock__t.html">lock_t</a> *m)</td></tr>
<tr class="memdesc:a71cfb7eae05f1549306722a634afa291"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for unlocking a lock with the opaque address <code>m</code>  <a href="usyscall_8h.html#a71cfb7eae05f1549306722a634afa291">More...</a><br /></td></tr>
<tr class="separator:a71cfb7eae05f1549306722a634afa291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2039fe9944f70409cc620bad3f80f0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#af2039fe9944f70409cc620bad3f80f0b">set_stepper_speed</a> (unsigned int speed_rpm)</td></tr>
<tr class="memdesc:af2039fe9944f70409cc620bad3f80f0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for setting the speed of an attached stepper motor.  <a href="usyscall_8h.html#af2039fe9944f70409cc620bad3f80f0b">More...</a><br /></td></tr>
<tr class="separator:af2039fe9944f70409cc620bad3f80f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911ad1ebb27f2bd1d289420f6eeb91fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a911ad1ebb27f2bd1d289420f6eeb91fc">move_stepper</a> (int num_steps)</td></tr>
<tr class="memdesc:a911ad1ebb27f2bd1d289420f6eeb91fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">User level stub for moving the stepper motor through a specified number of steps (blocking) with direction based on sign of num_steps (positive is CW and negative is CCW)  <a href="usyscall_8h.html#a911ad1ebb27f2bd1d289420f6eeb91fc">More...</a><br /></td></tr>
<tr class="separator:a911ad1ebb27f2bd1d289420f6eeb91fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d548e35d2e25e068cf448ac6a1ec1e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usyscall_8h.html#a26d548e35d2e25e068cf448ac6a1ec1e">ultrasonic_read</a> ()</td></tr>
<tr class="memdesc:a26d548e35d2e25e068cf448ac6a1ec1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a measurement from the ultrasonic sensor and report back range in cm (blocking)  <a href="usyscall_8h.html#a26d548e35d2e25e068cf448ac6a1ec1e">More...</a><br /></td></tr>
<tr class="separator:a26d548e35d2e25e068cf448ac6a1ec1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9981a4d7a6ee4804657e50e0741eb78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9981a4d7a6ee4804657e50e0741eb78b">&#9670;&nbsp;</a></span>mpu_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mpu_8h.html#a9981a4d7a6ee4804657e50e0741eb78b">mpu_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicator that a user-space application only wants memory isolation for the kernel or if it wants memory isolation for all user threads as well. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9981a4d7a6ee4804657e50e0741eb78ba546e525ee59cc92943a6c79ef2345a34"></a>KERNEL_PROTECT&#160;</td><td class="fielddoc"><p>Only the kernel should have its memory protected. </p>
</td></tr>
<tr><td class="fieldname"><a id="a9981a4d7a6ee4804657e50e0741eb78ba63a41127747cd4e547df9017f417f22c"></a>THREAD_PROTECT&#160;</td><td class="fielddoc"><p>Kernel and threads should be isolated in memory from each other. </p>
</td></tr>
<tr><td class="fieldname"><a id="a9981a4d7a6ee4804657e50e0741eb78ba546e525ee59cc92943a6c79ef2345a34"></a>KERNEL_PROTECT&#160;</td><td class="fielddoc"><p>Only the kernel should have its memory protected. </p>
</td></tr>
<tr><td class="fieldname"><a id="a9981a4d7a6ee4804657e50e0741eb78ba63a41127747cd4e547df9017f417f22c"></a>THREAD_PROTECT&#160;</td><td class="fielddoc"><p>Kernel and threads should be isolated in memory from each other. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9fa10b42dd77396361aa660b697d2955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa10b42dd77396361aa660b697d2955">&#9670;&nbsp;</a></span>get_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long get_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for getting the up-time of the system (number of scheduling periods that have passed) </p>

</div>
</div>
<a id="a16e403e9a8b9f52514e55a1c67058b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e403e9a8b9f52514e55a1c67058b5e">&#9670;&nbsp;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for locking a lock with the opaque address <code>m</code> </p>

</div>
</div>
<a id="ad164bfb573acd90a3227cbf7ad9f1135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad164bfb573acd90a3227cbf7ad9f1135">&#9670;&nbsp;</a></span>lock_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlock__t.html">lock_t</a>* lock_init </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>prio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for initializing a lock (kernel must already have defined empty structs for mutexes by the time this function is called from user space) which also has a space for specifiying the <code>prio</code> or the task ID with the associated priority ceiling. </p>

</div>
</div>
<a id="ac8316b737cdc74c12eb84dc63b2143b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8316b737cdc74c12eb84dc63b2143b1">&#9670;&nbsp;</a></span>lux_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short lux_read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for lux_read syscall (will call assembly svc implementation upon linking - return value will be in r0 from SVC_C_Handler) </p>

</div>
</div>
<a id="a911ad1ebb27f2bd1d289420f6eeb91fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a911ad1ebb27f2bd1d289420f6eeb91fc">&#9670;&nbsp;</a></span>move_stepper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int move_stepper </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for moving the stepper motor through a specified number of steps (blocking) with direction based on sign of num_steps (positive is CW and negative is CCW) </p>

</div>
</div>
<a id="a8e5d34d9d6b5fdc9591f4b140fe7f820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5d34d9d6b5fdc9591f4b140fe7f820">&#9670;&nbsp;</a></span>multitask_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int multitask_request </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>stack_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>idle_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mpu_8h.html#a9981a4d7a6ee4804657e50e0741eb78b">mpu_mode</a>&#160;</td>
          <td class="paramname"><em>mpu_protect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_locks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>User level stub for requesting the paritioning of kernel and user stack space for multiple threads (<code>num_threads</code> pieces each with both process and main stack size of <code>stack_bytes</code>) with an optional <code>idle_function</code> task to perform when no other thread is scheduled. Also specifies an indicator to determine if the threads should be isolated from each other in memory (or just from the kernel). Additionally specifies the number of unique locks that the user-level application will user </p>

</div>
</div>
<a id="a49bef04183bf6b8690a0535cc9a6a62d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49bef04183bf6b8690a0535cc9a6a62d">&#9670;&nbsp;</a></span>multitask_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int multitask_start </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>freq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for specifying the frequency of the scheduling call (with a call with zero being interpretted as a non-preemptive scheduler - i.e. the scheduler will not run unless a task explicitly yields) </p>

</div>
</div>
<a id="a4424963baca002e550ed593d88b3fba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4424963baca002e550ed593d88b3fba4">&#9670;&nbsp;</a></span>neopixel_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void neopixel_load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for neopixel_load (loading the internal sequence created with neopixel_set for individual LEDs) </p>

</div>
</div>
<a id="a580535bf47f091a54b8f3e55f53161ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580535bf47f091a54b8f3e55f53161ae">&#9670;&nbsp;</a></span>neopixel_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void neopixel_set </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>green</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>blue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pix_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for neopixel_set (will call assembly svc implementation upon linking which populates correct registers) </p>

</div>
</div>
<a id="af2039fe9944f70409cc620bad3f80f0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2039fe9944f70409cc620bad3f80f0b">&#9670;&nbsp;</a></span>set_stepper_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_stepper_speed </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>speed_rpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for setting the speed of an attached stepper motor. </p>

</div>
</div>
<a id="ad9c8de4d239b88cc80ab8e276600e068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c8de4d239b88cc80ab8e276600e068">&#9670;&nbsp;</a></span>sleep_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sleep_ms </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for sleep_ms syscall (this function is implemented in assembly and invoking this function will automatically place needed arguements in correct registers for SVC_C_Handler) </p>

</div>
</div>
<a id="a1a63db12bcdab110780d40c12b5511bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a63db12bcdab110780d40c12b5511bf">&#9670;&nbsp;</a></span>thread_define()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int thread_define </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for spawning a thread that asynchronously executes the given <code>fn</code> with an optional <code>arg</code> and a given <code>id</code> (id must be unique for thread to spawn). Also configures the task with worst case execution time <code>c</code> and period <code>t</code> </p>

</div>
</div>
<a id="a838007cda3d9a850381803edca1a15b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838007cda3d9a850381803edca1a15b0">&#9670;&nbsp;</a></span>thread_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for suspending the currently running thread (does not make end syscall with infinite loop trap) </p>

</div>
</div>
<a id="adff397bfdb8d683d2cb264dd8f61ff8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adff397bfdb8d683d2cb264dd8f61ff8d">&#9670;&nbsp;</a></span>thread_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long thread_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for returning the thread id of the currently running thread. </p>

</div>
</div>
<a id="af87c735cf9cb87726444e8bcc645ec16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87c735cf9cb87726444e8bcc645ec16">&#9670;&nbsp;</a></span>thread_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long thread_priority </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for returning the priority of the the current thread. </p>

</div>
</div>
<a id="ac1c647c9408eb6f307ec0c8a02a755ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c647c9408eb6f307ec0c8a02a755ac">&#9670;&nbsp;</a></span>thread_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long thread_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for returning the number of scheduling cycles that this thread has been active for. </p>

</div>
</div>
<a id="a8509e036500f28148d973ac73dd9d5d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8509e036500f28148d973ac73dd9d5d8">&#9670;&nbsp;</a></span>thread_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for manually yielding the running thread and returning control to the scheduler. </p>

</div>
</div>
<a id="a26d548e35d2e25e068cf448ac6a1ec1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d548e35d2e25e068cf448ac6a1ec1e">&#9670;&nbsp;</a></span>ultrasonic_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ultrasonic_read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a measurement from the ultrasonic sensor and report back range in cm (blocking) </p>

</div>
</div>
<a id="a71cfb7eae05f1549306722a634afa291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71cfb7eae05f1549306722a634afa291">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User level stub for unlocking a lock with the opaque address <code>m</code> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_111cd2f11cffd6d6d28d89ee0389ee9e.html">user</a></li><li class="navelem"><a class="el" href="dir_5880318873dbba54eaeafe8b295b00fd.html">include</a></li><li class="navelem"><a class="el" href="usyscall_8h.html">usyscall.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
